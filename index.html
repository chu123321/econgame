åœ¨ iPhone å’Œ iPad ä¸Šã€Œé»æ“Šæ²’åæ‡‰ã€æˆ–ã€Œç„¡æ³•é–‹å§‹ã€ï¼Œä¸»è¦æ˜¯å› ç‚º iOS Safari çš„è§¸æ§èˆ‡éŸ³è¨Šå®‰å…¨é™åˆ¶ã€‚åœ¨è¡Œå‹•è£ç½®ä¸Šï¼Œå¦‚æœéŸ³è¨Šè¼‰å…¥å¤±æ•—ï¼Œæœ‰æ™‚æœƒå°è‡´æ•´å€‹ JavaScript åŸ·è¡Œç·’å¡æ­»ã€‚

æ­¤å¤–ï¼ŒiOS ç‰ˆæœ¬çš„ Safari å°æ–¼é»æ“Šäº‹ä»¶ï¼ˆClick Eventï¼‰èˆ‡éŸ³è¨Šè§£é–æœ‰éå¸¸åš´æ ¼çš„è¦ç¯„ã€‚ä»¥ä¸‹æ˜¯å°ˆé–€ç‚º iPhone/iPad é‡æ–°ç·¨å¯«çš„ ã€Œå¼·åˆ¶è§£é–ç‰ˆã€ï¼Œæˆ‘ä¿®æ”¹äº†æ ¸å¿ƒé‚è¼¯ä»¥ç¢ºä¿é †æš¢åŸ·è¡Œï¼š

ğŸ› ï¸ é‡å° iOS çš„ä¸‰å¤§ä¿®å¾©ï¼š
è§¸æ§å„ªåŒ–ï¼šåŠ å…¥ -webkit-tap-highlight-color èˆ‡ cursor: pointerï¼Œä¸¦ç¢ºä¿é»æ“Šäº‹ä»¶èƒ½ç«‹å³è¢«åµæ¸¬ã€‚

éŸ³è¨Šå¼·å•Ÿï¼šåœ¨é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€æ™‚ï¼ŒåŒæ™‚ç™¼å‡ºã€ŒéœéŸ³æ’­æ”¾ã€æŒ‡ä»¤ï¼Œè§£é–ç³»çµ±å° bgmã€scream çš„é™åˆ¶ã€‚

ä½ˆå±€è‡ªé©æ‡‰ï¼šé˜²æ­¢ iPhone è¢å¹•éå°å°è‡´æŒ‰éˆ•é‡ç–Šã€‚

ğŸ“± ç­²æ±æ ¡åœ’ç¶“æ¿Ÿæˆ° (iOS/iPad å°ˆç”¨ä¿®å¾©ç‰ˆ)
HTML

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç­²æ±æ ¡åœ’ç¶“æ¿Ÿæˆ° - iOSç‰ˆ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Orbitron:wght@700&display=swap');

        :root { --skw-blue: #00a2ff; --skw-gold: #ffcc00; --danger: #ff0044; --success: #00ff88; }
        
        body { 
            background: #050508; color: white; font-family: -apple-system, "å¾®è»Ÿæ­£é»‘é«”", sans-serif; 
            margin: 0; padding: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow: hidden; touch-action: manipulation;
        }

        #game-container {
            width: 92vw; max-width: 850px; background: rgba(15, 25, 45, 0.98);
            border: 2px solid var(--skw-blue); border-radius: 15px;
            padding: 15px; display: flex; flex-direction: column;
            position: relative; box-shadow: 0 0 30px rgba(0, 162, 255, 0.2);
            box-sizing: border-box;
        }

        @media (min-width: 768px) {
            #game-container { display: grid; grid-template-columns: 1fr 280px; gap: 20px; }
        }

        .boss-box { 
            background: rgba(20, 30, 50, 0.8); border: 1px solid var(--skw-blue);
            padding: 15px; border-radius: 12px; text-align: center; margin-bottom: 10px;
        }

        #boss-emoji { font-size: 50px; display: block; margin: 0 auto 10px; }
        .boss-defeated { transform: rotate(180deg) scale(0.6); filter: grayscale(1); transition: 0.5s; }

        .tr-meter { height: 12px; background: #222; border-radius: 6px; border: 1px solid #444; overflow: hidden; margin: 8px 0; }
        #tr-bar { height: 100%; width: 85%; background: linear-gradient(90deg, var(--danger), #ff8800); transition: width 0.5s; }

        .ed-panel { 
            background: #000; border: 2px solid var(--skw-gold);
            border-radius: 15px; padding: 15px; text-align: center;
        }
        .ed-val { font-family: 'Orbitron', sans-serif; font-size: 2.5em; color: var(--skw-gold); line-height: 1; }

        .opt-btn {
            background: rgba(255, 255, 255, 0.08); border: 1px solid var(--skw-blue);
            color: white; padding: 14px; margin: 6px 0; width: 100%;
            cursor: pointer; font-size: 1em; border-radius: 8px; 
            -webkit-appearance: none; -webkit-tap-highlight-color: transparent;
        }
        .opt-btn:active { background: var(--skw-blue); color: black; }

        .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.96); z-index: 100; border-radius: 13px;
            display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box;
            text-align: center;
        }

        .hit-effect { animation: flash 0.3s; }
        @keyframes flash { 0% { background: rgba(255,0,0,0.4); } 100% { background: transparent; } }
    </style>
</head>
<body id="bg">

<div id="game-container">
    <div id="start-screen" class="overlay">
        <h1 style="color:var(--skw-gold); font-family:'Black Ops One'; font-size: 2em; margin-bottom:10px;">ç­²æ±æ ¡åœ’ç¶“æ¿Ÿæˆ°</h1>
        <p style="font-size: 0.9em; margin-bottom: 20px;">é»æ“Šä¸‹æ–¹æŒ‰éˆ•è§£é–éŸ³è»Œä¸¦é–‹å§‹</p>
        <button id="real-start-btn" style="padding: 20px 40px; font-size: 1.2em; background:var(--skw-blue); color:white; border:none; border-radius:10px; font-weight:bold; cursor:pointer;">é€²å…¥æˆ°å ´</button>
    </div>

    <div id="end-screen" class="overlay" style="display:none;">
        <h1 id="result-title" style="margin:0;">çµç®—</h1>
        <h2 id="final-score" style="font-size: 3.5em; color:var(--skw-gold); margin: 10px 0;">0</h2>
        <button onclick="location.reload()" style="padding: 15px 30px; background:white; color:black; border:none; border-radius:8px; font-weight:bold;">é‡æ–°æŒ‘æˆ°</button>
    </div>

    <div class="main-play">
        <div style="font-family: 'Orbitron'; color: var(--success); text-align: center; margin-bottom: 5px;">SCORE: <span id="current-score">0</span></div>
        <div class="boss-box">
            <span id="boss-emoji">ğŸ‘¨â€ğŸ«</span>
            <div id="boss-speech" style="color: #00ffcc; font-size: 0.9em; min-height: 40px; display: flex; align-items: center; justify-content: center;">ã€Œæ ¡é•·æ­£åœ¨è§€å¯Ÿä½ çš„åæ‡‰...ã€</div>
            <div class="tr-meter"><div id="tr-bar"></div></div>
            <div style="font-size: 0.7em; opacity: 0.6;">ç¸½æ”¶å…¥ (Total Revenue)</div>
        </div>
        <div id="options-grid"></div>
    </div>

    <div class="stats-panel">
        <div class="ed-panel">
            <div style="font-size: 0.7em; color: var(--skw-gold);">å½ˆæ€§ (Ed)</div>
            <div class="ed-val" id="ed-num">0.25</div>
            <div id="status-text" style="color:var(--danger); font-size: 0.8em; font-weight:bold;">ä½å½ˆæ€§ INELASTIC</div>
        </div>
    </div>
</div>

<audio id="bgm" loop preload="auto" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3"></audio>
<audio id="scream" preload="auto" src="https://actions.google.com/sounds/v1/human_voices/man_scream_short.ogg"></audio>
<audio id="fail" preload="auto" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

<script>
    let currentM = 0;
    let score = 0;
    const bgm = document.getElementById('bgm');
    const scream = document.getElementById('scream');
    const fail = document.getElementById('fail');

    const missions = [
        { boss: "ã€Œæ ¡æœåªæœ‰æ ¡å‹™è™•æœ‰è³£ã€‚åŠ åƒ¹ 50%ï¼ã€", options: ["é–‹æ”¾å‰¯å» ç”Ÿç”¢ (å¢åŠ æ›¿ä»£å“)", "å‘è€å¸«æ±‚æƒ…", "è¦æ±‚æ›´å¥½å¸ƒæ–™"], correct: 0, ed: 1.5 },
        { boss: "ã€Œå†·è¡«æ˜¯æ ¡è¦å¿…éœ€å“ã€‚å†åŠ åƒ¹ 30%ï¼ã€", options: ["æ”¹ç‚ºè‡ªç”±é…æ­ (è®Šç‚ºéå¿…éœ€å“)", "æŠ•è¨´å†·è¡«å¤ªåš", "åˆ†æœŸä»˜æ¬¾"], correct: 0, ed: 1.8 },
        { boss: "ã€Œæ–°åƒ¹æ ¼æ˜å¤©ç«‹åˆ»ç”Ÿæ•ˆï¼ã€", options: ["çˆ­å–å…©å¹´ç·©è¡æœŸ (å¢åŠ èª¿æ•´æ™‚é–“)", "å¯«ä¿¡çµ¦å®¶é•·æœƒ", "ç½·è²·è¥ªå­"], correct: 0, ed: 1.4 },
        { boss: "ã€Œè¥ªå­åªè³£ $100ï¼Œä½”æ”¯å‡ºå¾ˆå°ï¼ã€", options: ["è­‰æ˜ä½”åŸºå±¤å­¸ç”Ÿé ç®—æ¥µé«˜", "å°ä¸Šæ ¡å", "æ¸›å°‘åŠŸèª²"], correct: 0, ed: 1.3 },
        { boss: "ã€Œå…¨æ ¡æœé£¾å…¨é¢åŠ åƒ¹ï¼ã€", options: ["é‡å°ã€ç‰¹å®šé …ç›®ã€æ‰¾æ›¿ä»£å“", "æ¥å—åŠ åƒ¹", "è¦æ±‚æ ¡é•·æ¸›è–ª"], correct: 0, ed: 1.7 }
    ];

    // æ ¸å¿ƒä¿®å¾©ï¼šä½¿ç”¨æ˜ç¢ºçš„ Event Listener
    document.getElementById('real-start-btn').addEventListener('click', function(e) {
        e.preventDefault();
        
        // å¿…é ˆåœ¨é»æ“Šç¬é–“å•Ÿå‹•æ‰€æœ‰éŸ³è¨Šï¼ŒiOS æ‰æœƒå…è¨±å¾ŒçºŒæ’­æ”¾
        bgm.play().catch(()=>{});
        scream.play().then(() => { scream.pause(); scream.currentTime = 0; }).catch(()=>{});
        fail.play().then(() => { fail.pause(); fail.currentTime = 0; }).catch(()=>{});
        
        document.getElementById('start-screen').style.display = 'none';
        loadMission();
    }, false);

    function loadMission() {
        const m = missions[currentM];
        document.getElementById('boss-speech').innerText = m.boss;
        document.getElementById('ed-num').innerText = "0.25";
        document.getElementById('tr-bar').style.width = "85%";
        document.getElementById('boss-emoji').className = "";
        document.getElementById('status-text').innerText = "ä½å½ˆæ€§ INELASTIC";
        document.getElementById('status-text').style.color = "var(--danger)";
        
        const grid = document.getElementById('options-grid');
        grid.innerHTML = '';
        m.options.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            // é‡å° iOS å„ªåŒ–çš„äº‹ä»¶
            btn.onclick = (e) => {
                e.preventDefault();
                check(i === m.correct, m.ed);
            };
            grid.appendChild(btn);
        });
    }

    function check(isCorrect, edVal) {
        document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);

        if (isCorrect) {
            score += 20;
            document.getElementById('current-score').innerText = score;
            scream.play().catch(()=>{});
            document.getElementById('bg').classList.add('hit-effect');
            document.getElementById('boss-emoji').className = "boss-defeated";
            document.getElementById('ed-num').innerText = edVal;
            document.getElementById('ed-num').style.color = "var(--success)";
            document.getElementById('tr-bar').style.width = "20%";
            document.getElementById('status-text').innerText = "é«˜å½ˆæ€§ ELASTIC";
            document.getElementById('status-text').style.color = "var(--success)";
        } else {
            fail.play().catch(()=>{});
            document.getElementById('tr-bar').style.width = "95%";
            alert("âŒ ç­”éŒ¯äº†ï¼è©²å› ç´ ç„¡æ³•æœ‰æ•ˆæå‡éœ€æ±‚å½ˆæ€§ã€‚");
        }

        setTimeout(() => {
            document.getElementById('bg').classList.remove('hit-effect');
            currentM++;
            if(currentM < missions.length) loadMission();
            else showEndScreen();
        }, 1200);
    }

    function showEndScreen() {
        document.getElementById('end-screen').style.display = 'flex';
        document.getElementById('final-score').innerText = score;
        document.getElementById('result-title').innerText = score >= 60 ? "ğŸ† å®ˆè­·æˆåŠŸ" : "â„ï¸ å®ˆè­·å¤±æ•—";
    }
</script>
</body>
</html>
